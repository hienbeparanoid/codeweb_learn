<html>
    <head>
        <meta charset="utf-8">
        <title>Danh sách sản phẩm</title>
        <style>
            th {
                width: 150px;
            }
        </style>
        <script>
            // Dữ liệu JsonArray chứa các sản phẩm
            var sanphams = [
                { ma: "sp1", ten: "Cocacola", gia: 15000 },
                { ma: "sp2", ten: "Pepsi", gia: 25000 },
                { ma: "sp3", ten: "Sting", gia: 17000 }
            ];

            // Hàm hiển thị sản phẩm lên bảng
            function displayProducts(filteredProducts = sanphams) {
                const table = document.querySelector("table"); // Lấy bảng
                const rows = table.getElementsByTagName("tr"); // Lấy tất cả các dòng

                // Xóa các dòng cũ (ngoại trừ tiêu đề)
                while (rows.length > 1) {
                    table.deleteRow(1);
                }

                // Duyệt qua các sản phẩm và tạo dòng tương ứng
                filteredProducts.forEach(product => {
                    const tr = document.createElement("tr");

                    // Tạo và thêm cột Mã sản phẩm
                    const tdMa = document.createElement("td");
                    tdMa.innerText = product.ma;
                    tr.appendChild(tdMa);

                    // Tạo và thêm cột Tên sản phẩm
                    const tdTen = document.createElement("td");
                    tdTen.innerText = product.ten;
                    tr.appendChild(tdTen);

                    // Tạo và thêm cột Đơn giá
                    const tdGia = document.createElement("td");
                    tdGia.innerText = product.gia;
                    tr.appendChild(tdGia);

                    // Thêm dòng mới vào bảng
                    table.appendChild(tr);
                });
            }

            // Hàm tìm kiếm sản phẩm
            function searchProduct() {
                const searchTerm = document.querySelector("input[type='text']").value.toLowerCase();

                // Lọc các sản phẩm theo tên hoặc mã chứa chuỗi tìm kiếm
                const filteredProducts = sanphams.filter(product =>
                    product.ten.toLowerCase().includes(searchTerm) ||
                    product.ma.toLowerCase().includes(searchTerm)
                );

                // Hiển thị các sản phẩm đã lọc
                displayProducts(filteredProducts);
            }
        </script>
    </head>
    <body onload="displayProducts()"> <!-- Tự động hiển thị dữ liệu ban đầu -->
        <p>Muốn tìm gì: <input type="text" onkeyup="searchProduct()"> <!-- Tìm kiếm theo input --> </p>
        <table border="1">
            <tr>
                <th>Mã Sản phẩm</th>
                <th>Tên sản phẩm</th>
                <th>Đơn giá</th>
            </tr>
        </table>
    </body>
</html>
