<html>
    <head>
        <meta charset="utf-8">
        <title>tieu de trang</title>
        <script>
            function loadProducts(){
                var xhr = new XMLHttpRequest();
                xhr.open("GET", "dataset/product.xml", true);
                xhr.send();
                xhr.onreadystatechange = function(){
                    if(xhr.readyState == 4 && xhr.status == 200){
                        var xmlDoc = xhr.responseXML;
                        // Mô hình DOM
                        displayProducts(xmlDoc);
                    } 
                    else if (xhr.readyState == 4 && xhr.status != 200){
                        // Xử lý khi không load được data
                        alert("Không thể load được dữ liệu");
                    }
                }
            }

            function displayProducts(xmlDoc){
                var products = xmlDoc.getElementsByTagName("product");
                var tbodyproduct = document.getElementById("tbodyproduct");
                for (var i = 0; i < products.length; i++){
                    var product = products[i];
                    var product_id = product.getElementsByTagName("product_id")[0].childNodes[0].nodeValue;
                    var product_name = product.getElementsByTagName("product_name")[0].childNodes[0].nodeValue;
                    var price = product.getElementsByTagName("product_price")[0].childNodes[0].nodeValue;

                    var tr = document.createElement("tr");
                    tbodyproduct.append(tr);

                    var tdid = document.createElement("td");
                    tdid.innerText = product_id;
                    tr.append(tdid);

                    var tdname = document.createElement("td");
                    tdname.innerText = product_name;
                    tr.append(tdname);

                    var tdprice = document.createElement("td");
                    tdprice.innerText = price;
                    tr.append(tdprice);
                }
            }
        </script>
    </head>
    <body>
        <table>
            <thead>
                <tr>
                    <th>Product Id</th>
                    <th>Product Name</th>
                    <th>Product Price</th>
                </tr>
            </thead>
            <tbody id="tbodyproduct">

            </tbody>
        </table>
        <button onclick="loadProducts()">Load Product</button>
    </body>
</html>
